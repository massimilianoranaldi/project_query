[
  {
    "id": "1",
    "nomeCapitolo": "ESTRAZIONE NUMEROSITA PRODOTTI SU ORDINE CRM",
    "paragrafi": [
      {
        "id": "1.1",
        "nomeParagrafo": "Estrae i campi dell'ordine e la numerositÃ  dei prodotti a partire da id ordine e nome della action inbound",
        "codicePlSql": "select --am.*,\nr.id,r.status,r.name,r.ts_created,\nextractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@bssOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as bss_order,\nextractValue(xmltype(message_xml),'commercialOrder/order/@flagSospensione','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as flag_sospensione,\n(select count(id) from request where name='Network' and root_id=rr.root_id) as count_network,\n(case when (select count (id) from request where name='Logistics' and root_id=rr.root_id)>=1 then 'Y' else 'N' end) as Logistica,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESSPREPAG'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wlessprep,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wless,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''CPEM'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_cpem,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''GSS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_gss\n,extractvalue(value(te),'./*[@tipo=''TE'']/@componentRoot','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') componentRoot\n,extractvalue(value(te),'./*[@tipo=''TE'']/@integrationId','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') integrationIdTe\n,extractvalue(value(te),'./*[@tipo=''TE'']/@sottoTipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') sottoTipote\n,extractvalue(value(te),'./*[@tipo=''TE'']/@componentPadre','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') componentPadrete\n,extractvalue(value(te),'./*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Portato\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePortato\n,extractvalue(value(te),'./*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Precedente\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n--,extractvalue(value(te),'./*[@tipo=''TE'']/@numeroVocePrecedente','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n,r.id\nfrom action r, request rr ,action_msg am,\n--TABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''PRD'']',\n--'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) p,\nTABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''TC'']','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) pp    \n,TABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''TE'' and @sottoTipo=\"MNPIN\"]','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) te    \nwhere r.name='Receive In Order'--'Receive Out Order'\nand r.status='SA'\nand RR.ID=r.request_id\nand am.id=r.message_id\nand rownum<10\nand rr.root_id =(select distinct root_id from detail where value='1-624901434706'  )",
        "outPutSql": "ID\tSTATUS\tNAME\tTS_CREATED\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tBSS_ORDER\tFLAG_SOSPENSIONE\tCOUNT_NETWORK\tLOGISTICA\tNUM_PRD_WLESSPREP\tNUM_PRD_WLESS\tNUM_PRD_CPEM\tNUM_PRD_GSS\tCOMPONENTROOT\tINTEGRATIONIDTE\tSOTTOTIPOTE\tCOMPONENTPADRETE\tNUMEROVOCEPORTATO\tNUMEROVOCEPRECEDENTE\tID_1\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,62389E+12\t1,62389E+12\tMNPIN\t1,62389E+12\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,6239E+12\t1,6239E+12\tMNPIN\t1,6239E+12\t3453342297\t3205755732\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,62389E+12\t1,62389E+12\tMNPIN\t1,62389E+12\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,6239E+12\t1,6239E+12\tMNPIN\t1,6239E+12\t3453342297\t3205755732\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,62389E+12\t1,62389E+12\tMNPIN\t1,62389E+12\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,6239E+12\t1,6239E+12\tMNPIN\t1,6239E+12\t3453342297\t3205755732\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,62389E+12\t1,62389E+12\tMNPIN\t1,62389E+12\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t51:39,5\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1,6239E+12\t1,6239E+12\tMNPIN\t1,6239E+12\t3453342297\t3205755732\t69880303366"
      }
    ]
  },
  {
    "id": "2",
    "nomeCapitolo": "Inserisci il nome del Capitolo",
    "paragrafi": [
      {
        "id": "2.1",
        "nomeParagrafo": "Inserisci il nome del Paragrafo",
        "codicePlSql": "Scrivi qui il codice PLSQL",
        "outPutSql": "Incolla qui la tua tabella"
      }
    ]
  }
]